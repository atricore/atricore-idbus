<?xml version="1.0" encoding="UTF-8"?>

<beans xmlns="http://www.springframework.org/schema/beans"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xmlns:osgi="http://www.springframework.org/schema/osgi"
xmlns:osgix="http://www.springframework.org/schema/osgi-compendium"
xmlns:ctx="http://www.springframework.org/schema/context"
xsi:schemaLocation="http://www.springframework.org/schema/beans
                    http://www.springframework.org/schema/beans/spring-beans.xsd
                    http://www.springframework.org/schema/osgi
                    http://www.springframework.org/schema/osgi/spring-osgi.xsd
                    http://www.springframework.org/schema/context
                    http://www.springframework.org/schema/context/spring-context.xsd
                    http://www.springframework.org/schema/osgi-compendium
                    http://www.springframework.org/schema/osgi-compendium/spring-osgi-compendium.xsd
                    ">

    <!-- OSGi services export -->
    <osgi:service id="idau-default-exporter" ref="idau-default"
                  interface="org.atricore.idbus.kernel.main.mediation.osgi.OsgiIdentityMediationUnit" />

    <osgi:service id="osgi-psp-default-client"
                  ref="psp-default-client"
                  interface="org.atricore.idbus.capabilities.spmlr2.main.SpmlR2Client"/>

    <osgi:service id="osgi-idstore-default"
                  ref="idstore-default"
                  interface="org.atricore.idbus.kernel.main.store.AbstractStore"/>


    <!-- OSGi services import -->

    <osgi:reference id="cxf" cardinality="1..1" timeout="60" interface="org.apache.cxf.Bus"/>

    <osgi:reference id="bpms-manager" cardinality="1..1" timeout="60"
                    interface="org.atricore.idbus.kernel.planning.jbpm.BPMSManager" />

    <osgi:reference id="idau-default-aqm" cardinality="1..1" timeout="60"
                    interface="org.atricore.idbus.kernel.main.mediation.MessageQueueManager" />

    <osgi:reference id="cache-manager-factory" cardinality="1..1" timeout="60"
                  interface="org.atricore.idbus.bundles.ehcache.CacheManagerFactory"/>

    <osgi:reference id="idbus-config" interface="org.atricore.idbus.kernel.main.util.ConfigurationContext"/>

</beans>